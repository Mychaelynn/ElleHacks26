<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Penny's Garden</title>
    <link rel="stylesheet" href="garden.css" />
  </head>
  <body class="garden-bg">
    <!-- Navigation Bar -->
    <nav class="game-nav">
      <a href="main.html" class="nav-item">ğŸ  Adventure Hub</a>
      <a href="shopping.html" class="nav-item">ğŸ›ï¸ Shopping & Arcade</a>
      <a href="chores.html" class="nav-item">ğŸ§¹ Chores</a>
      <a href="plane.html" class="nav-item">âœˆï¸ Purchase Ticket</a>
    </nav>

    <!-- Stats Board -->
    <div class="stats-board">
      <h3>Your Progress</h3>
      <p><strong>Goal:</strong> <span id="stat-goal-name">Loading...</span></p>
      <p><strong>Still Need:</strong> $<span id="stat-needed">0</span></p>
      <hr />
      <p>Spendings: $<span id="stat-spendings">0</span></p>
      <p>Savings: $<span id="stat-savings">0</span></p>
      <p>Rainy Day: $<span id="stat-rainyDay">0</span></p>
    </div>

    <!-- Main Garden Content -->
    <div class="main-content">
      <h1 class="garden-title">Sunflower Garden</h1>

      <div id="garden-status">The garden is empty. Buy seeds to start!</div>

      <div class="garden-actions">
        <button id="buy-seeds-btn" class="garden-buy-btn" onclick="buySeeds()">
          Buy Seeds ($30)
        </button>
        <button
          id="stop-garden-btn"
          class="garden-buy-btn hidden"
          onclick="stopGarden()"
        >
          Harvest & Stop
        </button>
      </div>

      <div id="earnings-display" class="hidden">
        Current Earnings: $<span id="current-session-cash">0</span>
      </div>
    </div>

    <!-- Penny Chat (Bottom Right Corner) -->
    <div class="penny-fixed-corner" onclick="togglePennyChat()">
      <img src="mascot.png" alt="Penny" id="penny-icon" />
    </div>

    <div id="penny-chat-window" class="chat-hidden">
      <div class="chat-header">
        <span>Penny's Tips ğŸ·</span>
        <button onclick="togglePennyChat()" class="close-chat">Ã—</button>
      </div>

      <div id="chat-messages"></div>

      <div class="chat-input-area">
        <input
          type="text"
          id="user-query"
          placeholder="Ask Penny..."
          onkeypress="if (event.key === 'Enter') sendToGemini();"
        />
        <button onclick="sendToGemini()">Send</button>
      </div>
    </div>

    <!-- Scripts -->
    <script type="importmap">
      {
        "imports": {
          "@google/generative-ai": "https://esm.run/@google/generative-ai"
        }
      }
    </script>
    <script type="module" src="garden.js"></script>
  </body>
</html>
